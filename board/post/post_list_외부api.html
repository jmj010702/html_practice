<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    <title>post_list</title>
</head>

<body>
    <nav class="navbar bg-dark navbar-dark navbar-expand-lg">
        <a href="../post/post_list.html" class="navbar-brand mx-auto">게시판 서비스</a>
        <ul class="navbar-nav">
            <li class="nav-item"><a class="nav-link" href="../author/author_list.html">회원 목록</a></li>
            <li class="nav-item"><a class="nav-link" href="../post/post_list.html">게시글 목록</a></li>
            <li class="nav-item">
                <a href="../author/author_register.html" class="nav-link">회원가입</a>
            </li>
        </ul>
    </nav>  
    <div class="container">
        <h3>게시글 목록</h3>
        <div class="float-end" style="margin-right: 100px;">
            <a href="../post/post_register.html" class="btn btn-primary"> 글쓰기

            </a>
        </div>
        <table class="table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>제목</th>
                    <!-- <th>본문</th> -->
                    <th>글쓴이ID</th>
                </tr>
            </thead>
            <tbody id="tbodyId">

            </tbody>
        </table>
    </div>

    <script>
        async function serverdata() {
            const jsondata = await axios.get("https://jsonplaceholder.typicode.com/posts");
            const objs = jsondata.data;
            // for (let i = 0; i < objs.length; i++) {
            //     const html = "<tr><td>" + objs[i].id + "</td><td>"
            //         + objs[i].title + "</td><td>"
            //         //  + objs[i].body + "</td><td>"
            //         + objs[i].userId + "</td></tr>";

            //     console.log(html);

            //     document.getElementById("tbodyId").innerHTML += html;
            //     // document.getElementById("tbodyid").innerHTML += html;
            // }
            objs.forEach(obj => {
                const html =
                    "<tr><td>" + obj.id + "</td><td>"
                    + obj.title + "</td><td>"
                    // + obj.body + "</td><td>"
                    + obj.userId + "</td></tr>";

                console.log(html);
                document.getElementById("tbodyId").innerHTML += html;
            });

        }
        serverdata();
    </script>
</body>

</html>